Python: If else statement, loops and functions